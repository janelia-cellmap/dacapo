

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>dacapo.gp &mdash; DaCapo  documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../../../_static/graphviz.css?v=4ae1632d" />
      <link rel="stylesheet" type="text/css" href="../../../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/custom.css" />

  
      <script src="../../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../../_static/documentation_options.js?v=5929fcd5"></script>
      <script src="../../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="dacapo.gp.copy" href="copy/index.html" />
    <link rel="prev" title="dacapo.ext" href="../ext/index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../index.html" class="icon icon-home">
            DaCapo
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">DaCapo API:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../notebooks/minimal_tutorial.html">Minimal Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../tutorial.html">Tutorial: A Simple Experiment in Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docker.html">Docker Configuration for JupyterHub-Dacapo</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../aws.html">AWS EC2 Setup Guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">API Reference</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">dacapo</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="../index.html#submodules">Submodules</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="../apply/index.html">dacapo.apply</a></li>
<li class="toctree-l4"><a class="reference internal" href="../blockwise/index.html">dacapo.blockwise</a></li>
<li class="toctree-l4"><a class="reference internal" href="../compute_context/index.html">dacapo.compute_context</a></li>
<li class="toctree-l4"><a class="reference internal" href="../experiments/index.html">dacapo.experiments</a></li>
<li class="toctree-l4"><a class="reference internal" href="../ext/index.html">dacapo.ext</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">dacapo.gp</a></li>
<li class="toctree-l4"><a class="reference internal" href="../options/index.html">dacapo.options</a></li>
<li class="toctree-l4"><a class="reference internal" href="../plot/index.html">dacapo.plot</a></li>
<li class="toctree-l4"><a class="reference internal" href="../predict/index.html">dacapo.predict</a></li>
<li class="toctree-l4"><a class="reference internal" href="../predict_local/index.html">dacapo.predict_local</a></li>
<li class="toctree-l4"><a class="reference internal" href="../store/index.html">dacapo.store</a></li>
<li class="toctree-l4"><a class="reference internal" href="../train/index.html">dacapo.train</a></li>
<li class="toctree-l4"><a class="reference internal" href="../utils/index.html">dacapo.utils</a></li>
<li class="toctree-l4"><a class="reference internal" href="../validate/index.html">dacapo.validate</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../index.html#classes">Classes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../index.html#functions">Functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../index.html#package-contents">Package Contents</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../cli.html">CLI</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">DaCapo</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../index.html">API Reference</a></li>
          <li class="breadcrumb-item"><a href="../index.html">dacapo</a></li>
      <li class="breadcrumb-item active">dacapo.gp</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../_sources/autoapi/dacapo/gp/index.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-dacapo.gp">
<span id="dacapo-gp"></span><h1>dacapo.gp<a class="headerlink" href="#module-dacapo.gp" title="Link to this heading"></a></h1>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Link to this heading"></a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="copy/index.html">dacapo.gp.copy</a></li>
<li class="toctree-l1"><a class="reference internal" href="dacapo_array_source/index.html">dacapo.gp.dacapo_array_source</a></li>
<li class="toctree-l1"><a class="reference internal" href="dacapo_create_target/index.html">dacapo.gp.dacapo_create_target</a></li>
<li class="toctree-l1"><a class="reference internal" href="dacapo_points_source/index.html">dacapo.gp.dacapo_points_source</a></li>
<li class="toctree-l1"><a class="reference internal" href="elastic_augment_fuse/index.html">dacapo.gp.elastic_augment_fuse</a></li>
<li class="toctree-l1"><a class="reference internal" href="gamma_noise/index.html">dacapo.gp.gamma_noise</a></li>
<li class="toctree-l1"><a class="reference internal" href="product/index.html">dacapo.gp.product</a></li>
<li class="toctree-l1"><a class="reference internal" href="reject_if_empty/index.html">dacapo.gp.reject_if_empty</a></li>
</ul>
</div>
</section>
<section id="classes">
<h2>Classes<a class="headerlink" href="#classes" title="Link to this heading"></a></h2>
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#dacapo.gp.DaCapoArraySource" title="dacapo.gp.DaCapoArraySource"><code class="xref py py-obj docutils literal notranslate"><span class="pre">DaCapoArraySource</span></code></a></p></td>
<td><p>A DaCapo Array source node</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dacapo.gp.DaCapoTargetFilter" title="dacapo.gp.DaCapoTargetFilter"><code class="xref py py-obj docutils literal notranslate"><span class="pre">DaCapoTargetFilter</span></code></a></p></td>
<td><p>A Gunpowder node for generating the target from the ground truth</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dacapo.gp.GammaAugment" title="dacapo.gp.GammaAugment"><code class="xref py py-obj docutils literal notranslate"><span class="pre">GammaAugment</span></code></a></p></td>
<td><p>Class for applying gamma noise augmentation.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dacapo.gp.ElasticAugment" title="dacapo.gp.ElasticAugment"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ElasticAugment</span></code></a></p></td>
<td><p>Elasticly deform a batch. Requests larger batches upstream to avoid data</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dacapo.gp.RejectIfEmpty" title="dacapo.gp.RejectIfEmpty"><code class="xref py py-obj docutils literal notranslate"><span class="pre">RejectIfEmpty</span></code></a></p></td>
<td><p>Reject batches based on the masked-in vs. masked-out ratio.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dacapo.gp.CopyMask" title="dacapo.gp.CopyMask"><code class="xref py py-obj docutils literal notranslate"><span class="pre">CopyMask</span></code></a></p></td>
<td><p>A class to copy a mask into a new key with the option to drop channels via max collapse.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dacapo.gp.GraphSource" title="dacapo.gp.GraphSource"><code class="xref py py-obj docutils literal notranslate"><span class="pre">GraphSource</span></code></a></p></td>
<td><p>A provider for serving graph data in gunpowder pipelines.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dacapo.gp.Product" title="dacapo.gp.Product"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Product</span></code></a></p></td>
<td><p>A BatchFilter that multiplies two input arrays and produces an output array.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="package-contents">
<h2>Package Contents<a class="headerlink" href="#package-contents" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="dacapo.gp.DaCapoArraySource">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">dacapo.gp.</span></span><span class="sig-name descname"><span class="pre">DaCapoArraySource</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">array</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../experiments/datasplits/datasets/arrays/index.html#dacapo.experiments.datasplits.datasets.arrays.Array" title="dacapo.experiments.datasplits.datasets.arrays.Array"><span class="pre">dacapo.experiments.datasplits.datasets.arrays.Array</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">gunpowder.ArrayKey</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dacapo.gp.DaCapoArraySource" title="Link to this definition"></a></dt>
<dd><p>A DaCapo Array source node</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="dacapo.gp.DaCapoArraySource.array">
<span class="sig-name descname"><span class="pre">array</span></span><a class="headerlink" href="#dacapo.gp.DaCapoArraySource.array" title="Link to this definition"></a></dt>
<dd><p>The array to be served.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="../experiments/datasplits/datasets/arrays/array/index.html#dacapo.experiments.datasplits.datasets.arrays.array.Array" title="dacapo.experiments.datasplits.datasets.arrays.array.Array">Array</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="dacapo.gp.DaCapoArraySource.key">
<span class="sig-name descname"><span class="pre">key</span></span><a class="headerlink" href="#dacapo.gp.DaCapoArraySource.key" title="Link to this definition"></a></dt>
<dd><p>The key of the array to be served.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>gp.ArrayKey</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dacapo.gp.DaCapoArraySource.setup">
<span class="sig-name descname"><span class="pre">setup</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dacapo.gp.DaCapoArraySource.setup" title="Link to this definition"></a></dt>
<dd><p>Set up the provider.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dacapo.gp.DaCapoArraySource.provide">
<span class="sig-name descname"><span class="pre">provide</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dacapo.gp.DaCapoArraySource.provide" title="Link to this definition"></a></dt>
<dd><p>Provides the array for the requested ROI.</p>
</dd></dl>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This class is a subclass of gunpowder.BatchProvider and is used to
serve array data to gunpowder pipelines.</p>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="id0">
<span class="sig-name descname"><span class="pre">array</span></span><a class="headerlink" href="#id0" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="dacapo.gp.DaCapoArraySource.array_spec">
<span class="sig-name descname"><span class="pre">array_spec</span></span><a class="headerlink" href="#dacapo.gp.DaCapoArraySource.array_spec" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id1">
<span class="sig-name descname"><span class="pre">key</span></span><a class="headerlink" href="#id1" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id2">
<span class="sig-name descname"><span class="pre">setup</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#id2" title="Link to this definition"></a></dt>
<dd><p>Adds the key and the array spec to the provider.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>RuntimeError</strong> – If the key is already provided.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">array_source</span><span class="o">.</span><span class="n">setup</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id3">
<span class="sig-name descname"><span class="pre">provide</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#id3" title="Link to this definition"></a></dt>
<dd><p>Provides data based on the given request.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>request</strong> (<em>gp.BatchRequest</em>) – The request for data</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The batch containing the provided data</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>gp.Batch</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If the input data contains NaN values</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">array_source</span><span class="o">.</span><span class="n">provide</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="dacapo.gp.DaCapoTargetFilter">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">dacapo.gp.</span></span><span class="sig-name descname"><span class="pre">DaCapoTargetFilter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">predictor</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../experiments/tasks/predictors/index.html#dacapo.experiments.tasks.predictors.Predictor" title="dacapo.experiments.tasks.predictors.Predictor"><span class="pre">dacapo.experiments.tasks.predictors.Predictor</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">gt_key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">gunpowder.ArrayKey</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">gunpowder.ArrayKey</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="../experiments/tasks/index.html#dacapo.experiments.tasks.OneHotTaskConfig.None" title="dacapo.experiments.tasks.OneHotTaskConfig.None"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weights_key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">gunpowder.ArrayKey</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="../experiments/tasks/index.html#dacapo.experiments.tasks.OneHotTaskConfig.None" title="dacapo.experiments.tasks.OneHotTaskConfig.None"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mask_key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">gunpowder.ArrayKey</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="../experiments/tasks/index.html#dacapo.experiments.tasks.OneHotTaskConfig.None" title="dacapo.experiments.tasks.OneHotTaskConfig.None"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dacapo.gp.DaCapoTargetFilter" title="Link to this definition"></a></dt>
<dd><p>A Gunpowder node for generating the target from the ground truth</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="dacapo.gp.DaCapoTargetFilter.Predictor">
<span class="sig-name descname"><span class="pre">Predictor</span></span><a class="headerlink" href="#dacapo.gp.DaCapoTargetFilter.Predictor" title="Link to this definition"></a></dt>
<dd><p>The DaCapo Predictor to use to transform gt into target</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="../experiments/tasks/predictors/index.html#dacapo.experiments.tasks.predictors.Predictor" title="dacapo.experiments.tasks.predictors.Predictor">Predictor</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="dacapo.gp.DaCapoTargetFilter.gt">
<span class="sig-name descname"><span class="pre">gt</span></span><a class="headerlink" href="#dacapo.gp.DaCapoTargetFilter.gt" title="Link to this definition"></a></dt>
<dd><p>The dataset to use for generating the target.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">Array</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="dacapo.gp.DaCapoTargetFilter.target_key">
<span class="sig-name descname"><span class="pre">target_key</span></span><a class="headerlink" href="#dacapo.gp.DaCapoTargetFilter.target_key" title="Link to this definition"></a></dt>
<dd><p>The key with which to provide the target.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">gp.ArrayKey</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="dacapo.gp.DaCapoTargetFilter.weights_key">
<span class="sig-name descname"><span class="pre">weights_key</span></span><a class="headerlink" href="#dacapo.gp.DaCapoTargetFilter.weights_key" title="Link to this definition"></a></dt>
<dd><p>The key with which to provide the weights.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">gp.ArrayKey</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="dacapo.gp.DaCapoTargetFilter.mask_key">
<span class="sig-name descname"><span class="pre">mask_key</span></span><a class="headerlink" href="#dacapo.gp.DaCapoTargetFilter.mask_key" title="Link to this definition"></a></dt>
<dd><p>The key with which to provide the mask.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">gp.ArrayKey</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dacapo.gp.DaCapoTargetFilter.setup">
<span class="sig-name descname"><span class="pre">setup</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dacapo.gp.DaCapoTargetFilter.setup" title="Link to this definition"></a></dt>
<dd><p>Set up the provider.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dacapo.gp.DaCapoTargetFilter.prepare">
<span class="sig-name descname"><span class="pre">prepare</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dacapo.gp.DaCapoTargetFilter.prepare" title="Link to this definition"></a></dt>
<dd><p>Prepare the request.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dacapo.gp.DaCapoTargetFilter.process">
<span class="sig-name descname"><span class="pre">process</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">batch</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">request</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dacapo.gp.DaCapoTargetFilter.process" title="Link to this definition"></a></dt>
<dd><p>Process the batch.</p>
</dd></dl>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This class is a subclass of gunpowder.BatchFilter and is used to
generate the target from the ground truth.</p>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="dacapo.gp.DaCapoTargetFilter.predictor">
<span class="sig-name descname"><span class="pre">predictor</span></span><a class="headerlink" href="#dacapo.gp.DaCapoTargetFilter.predictor" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="dacapo.gp.DaCapoTargetFilter.gt_key">
<span class="sig-name descname"><span class="pre">gt_key</span></span><a class="headerlink" href="#dacapo.gp.DaCapoTargetFilter.gt_key" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id4">
<span class="sig-name descname"><span class="pre">target_key</span></span><a class="headerlink" href="#id4" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id5">
<span class="sig-name descname"><span class="pre">weights_key</span></span><a class="headerlink" href="#id5" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id6">
<span class="sig-name descname"><span class="pre">mask_key</span></span><a class="headerlink" href="#id6" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="dacapo.gp.DaCapoTargetFilter.moving_counts">
<span class="sig-name descname"><span class="pre">moving_counts</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#dacapo.gp.DaCapoTargetFilter.moving_counts" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id7">
<span class="sig-name descname"><span class="pre">setup</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#id7" title="Link to this definition"></a></dt>
<dd><p>Set up the provider. This function sets the provider to provide the
target with the given key.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>RuntimeError</strong> – If the key is already provided.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">target_filter</span><span class="o">.</span><span class="n">setup</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id8">
<span class="sig-name descname"><span class="pre">prepare</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#id8" title="Link to this definition"></a></dt>
<dd><p>Prepare the request.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>request</strong> (<em>gp.BatchRequest</em>) – The request to prepare.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The dependencies.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>deps (gp.BatchRequest)</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>NotImplementedError</strong> – If the target_key is not provided.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">request</span> <span class="o">=</span> <span class="n">gp</span><span class="o">.</span><span class="n">BatchRequest</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">request</span><span class="p">[</span><span class="n">gp</span><span class="o">.</span><span class="n">ArrayKey</span><span class="p">(</span><span class="s2">&quot;GT&quot;</span><span class="p">)]</span> <span class="o">=</span> <span class="n">gp</span><span class="o">.</span><span class="n">ArraySpec</span><span class="p">(</span><span class="n">roi</span><span class="o">=</span><span class="n">gp</span><span class="o">.</span><span class="n">Roi</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">target_filter</span><span class="o">.</span><span class="n">prepare</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id9">
<span class="sig-name descname"><span class="pre">process</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">batch</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">request</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#id9" title="Link to this definition"></a></dt>
<dd><p>Process the batch.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>batch</strong> (<em>gp.Batch</em>) – The batch to process.</p></li>
<li><p><strong>request</strong> (<em>gp.BatchRequest</em>) – The request to process.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The output batch.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>output (gp.Batch)</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">request</span> <span class="o">=</span> <span class="n">gp</span><span class="o">.</span><span class="n">BatchRequest</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">request</span><span class="p">[</span><span class="n">gp</span><span class="o">.</span><span class="n">ArrayKey</span><span class="p">(</span><span class="s2">&quot;GT&quot;</span><span class="p">)]</span> <span class="o">=</span> <span class="n">gp</span><span class="o">.</span><span class="n">ArraySpec</span><span class="p">(</span><span class="n">roi</span><span class="o">=</span><span class="n">gp</span><span class="o">.</span><span class="n">Roi</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">target_filter</span><span class="o">.</span><span class="n">process</span><span class="p">(</span><span class="n">batch</span><span class="p">,</span> <span class="n">request</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="dacapo.gp.GammaAugment">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">dacapo.gp.</span></span><span class="sig-name descname"><span class="pre">GammaAugment</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arrays</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gamma_min</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gamma_max</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dacapo.gp.GammaAugment" title="Link to this definition"></a></dt>
<dd><p>Class for applying gamma noise augmentation.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="dacapo.gp.GammaAugment.arrays">
<span class="sig-name descname"><span class="pre">arrays</span></span><a class="headerlink" href="#dacapo.gp.GammaAugment.arrays" title="Link to this definition"></a></dt>
<dd><p>An iterable collection of np arrays to augment</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="dacapo.gp.GammaAugment.gamma_min">
<span class="sig-name descname"><span class="pre">gamma_min</span></span><a class="headerlink" href="#dacapo.gp.GammaAugment.gamma_min" title="Link to this definition"></a></dt>
<dd><p>A float representing the lower limit of gamma perturbation</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="dacapo.gp.GammaAugment.gamma_max">
<span class="sig-name descname"><span class="pre">gamma_max</span></span><a class="headerlink" href="#dacapo.gp.GammaAugment.gamma_max" title="Link to this definition"></a></dt>
<dd><p>A float representing the upper limit of gamma perturbation</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dacapo.gp.GammaAugment.setup">
<span class="sig-name descname"><span class="pre">setup</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dacapo.gp.GammaAugment.setup" title="Link to this definition"></a></dt>
<dd><p>Method to configure the internal state of the class</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dacapo.gp.GammaAugment.process">
<span class="sig-name descname"><span class="pre">process</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dacapo.gp.GammaAugment.process" title="Link to this definition"></a></dt>
<dd><p>Method to apply gamma noise to the desired arrays</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dacapo.gp.GammaAugment.__augment">
<span class="sig-name descname"><span class="pre">__augment</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dacapo.gp.GammaAugment.__augment" title="Link to this definition"></a></dt>
<dd><p>Private method to perform the actual augmentation</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id10">
<span class="sig-name descname"><span class="pre">arrays</span></span><a class="headerlink" href="#id10" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id11">
<span class="sig-name descname"><span class="pre">gamma_min</span></span><a class="headerlink" href="#id11" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id12">
<span class="sig-name descname"><span class="pre">gamma_max</span></span><a class="headerlink" href="#id12" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id13">
<span class="sig-name descname"><span class="pre">setup</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#id13" title="Link to this definition"></a></dt>
<dd><p>Configuring the internal state by iterating over arrays.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>AssertionError</strong> – If the array data type is not float32 or float64</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">setup</span><span class="p">()</span>
<span class="go">setup()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id14">
<span class="sig-name descname"><span class="pre">process</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">batch</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">request</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#id14" title="Link to this definition"></a></dt>
<dd><p>Method to apply gamma noise to the desired arrays.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>batch</strong> – The input batch to be processed.</p></li>
<li><p><strong>request</strong> – An object which holds the requested output location.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The batch with the gamma noise applied.</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>AssertionError</strong> – If the array data type is not float32 or float64</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">process</span><span class="p">(</span><span class="n">batch</span><span class="p">,</span> <span class="n">request</span><span class="p">)</span>
<span class="go">process(batch, request)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="dacapo.gp.ElasticAugment">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">dacapo.gp.</span></span><span class="sig-name descname"><span class="pre">ElasticAugment</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">control_point_spacing</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">control_point_displacement_sigma</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rotation_interval</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subsample</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">augmentation_probability</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">uniform_3d_rotation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dacapo.gp.ElasticAugment" title="Link to this definition"></a></dt>
<dd><p>Elasticly deform a batch. Requests larger batches upstream to avoid data
loss due to rotation and jitter.
:param control_point_spacing: Distance between control points for the elastic deformation, in voxels per dimension.
:type control_point_spacing: tuple of int
:param control_point_displacement_sigma: Standard deviation of control point displacement distribution, in world coordinates.
:type control_point_displacement_sigma: tuple of float
:param rotation_interval: Interval to randomly sample rotation angles from (0, 2PI).
:type rotation_interval: tuple of two float
:param subsample: Instead of creating an elastic transformation on the full resolution, create one sub-sampled by the given factor, and linearly interpolate to obtain the full resolution transformation. This can significantly speed up this node, at the expense of having visible piecewise linear deformations for large factors. Usually, a factor of 4 can safely be used without noticeable changes. However, the default is 1 (i.e., no sub-sampling).
:type subsample: int
:param seed: Set random state for reproducible results (tests only, do not use in production code!!)
:type seed: int
:param augmentation_probability: Probability to apply the augmentation.
:type augmentation_probability: float
:param uniform_3d_rotation: Use a uniform 3D rotation instead of a rotation around a random axis.
:type uniform_3d_rotation: bool</p>
<dl class="simple">
<dt>Provides:</dt><dd><ul class="simple">
<li><p>The arrays in the batch, deformed.</p></li>
</ul>
</dd>
<dt>Requests:</dt><dd><ul class="simple">
<li><p>The arrays in the batch, enlarged such that the deformed ROI fits into
the enlarged input ROI.</p></li>
</ul>
</dd>
<dt>Method:</dt><dd><p>setup: Set up the ElasticAugment node.
prepare: Prepare the ElasticAugment node.
process: Process the ElasticAugment node.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>This node is a port of the ElasticAugment node from the original
<a href="#id15"><span class="problematic" id="id16">`</span></a>gunpowder &lt;</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="dacapo.gp.ElasticAugment.control_point_spacing">
<span class="sig-name descname"><span class="pre">control_point_spacing</span></span><a class="headerlink" href="#dacapo.gp.ElasticAugment.control_point_spacing" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="dacapo.gp.ElasticAugment.control_point_displacement_sigma">
<span class="sig-name descname"><span class="pre">control_point_displacement_sigma</span></span><a class="headerlink" href="#dacapo.gp.ElasticAugment.control_point_displacement_sigma" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="dacapo.gp.ElasticAugment.rotation_start">
<span class="sig-name descname"><span class="pre">rotation_start</span></span><a class="headerlink" href="#dacapo.gp.ElasticAugment.rotation_start" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="dacapo.gp.ElasticAugment.rotation_max_amount">
<span class="sig-name descname"><span class="pre">rotation_max_amount</span></span><a class="headerlink" href="#dacapo.gp.ElasticAugment.rotation_max_amount" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="dacapo.gp.ElasticAugment.subsample">
<span class="sig-name descname"><span class="pre">subsample</span></span><a class="headerlink" href="#dacapo.gp.ElasticAugment.subsample" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="dacapo.gp.ElasticAugment.augmentation_probability">
<span class="sig-name descname"><span class="pre">augmentation_probability</span></span><a class="headerlink" href="#dacapo.gp.ElasticAugment.augmentation_probability" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="dacapo.gp.ElasticAugment.uniform_3d_rotation">
<span class="sig-name descname"><span class="pre">uniform_3d_rotation</span></span><a class="headerlink" href="#dacapo.gp.ElasticAugment.uniform_3d_rotation" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="dacapo.gp.ElasticAugment.do_augment">
<span class="sig-name descname"><span class="pre">do_augment</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#dacapo.gp.ElasticAugment.do_augment" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="dacapo.gp.ElasticAugment.transformations">
<span class="sig-name descname"><span class="pre">transformations</span></span><a class="headerlink" href="#dacapo.gp.ElasticAugment.transformations" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="dacapo.gp.ElasticAugment.target_rois">
<span class="sig-name descname"><span class="pre">target_rois</span></span><a class="headerlink" href="#dacapo.gp.ElasticAugment.target_rois" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dacapo.gp.ElasticAugment.setup">
<span class="sig-name descname"><span class="pre">setup</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dacapo.gp.ElasticAugment.setup" title="Link to this definition"></a></dt>
<dd><p>Set up the object by calculating the voxel size and spatial dimensions.</p>
<p>This method calculates the voxel size by finding the minimum value for each axis
from the voxel sizes of all array specs. It then sets the <cite>voxel_size</cite> attribute
of the object. The spatial dimensions are also set based on the dimensions of the
voxel size.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>AssertionError</strong> – If the voxel size is not a Coordinate object.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">setup</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dacapo.gp.ElasticAugment.prepare">
<span class="sig-name descname"><span class="pre">prepare</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dacapo.gp.ElasticAugment.prepare" title="Link to this definition"></a></dt>
<dd><p>Prepares the request for augmentation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>request</strong> – The request object containing the data to be augmented.</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>AssertionError</strong> – If the key in the request is not an ArrayKey or GraphKey.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">prepare</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
</pre></div>
</div>
<p class="rubric">Notes</p>
<p>This method prepares the request for augmentation by performing the following steps:
1. Logs the preparation details, including the transformation voxel size.
2. Calculates the master ROI based on the total ROI.
3. Generates a uniform random sample and determines whether to perform augmentation based on the augmentation probability.
4. If augmentation is not required, logs the decision and returns.
5. Snaps the master ROI to the grid based on the voxel size and calculates the master transformation.
6. Clears the existing transformations and target ROIs.
7. Iterates over each key in the request and prepares it for augmentation.
8. Updates the upstream request with the modified ROI.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dacapo.gp.ElasticAugment.process">
<span class="sig-name descname"><span class="pre">process</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">batch</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">request</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dacapo.gp.ElasticAugment.process" title="Link to this definition"></a></dt>
<dd><p>Process the ElasticAugment node.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>batch</strong> – The batch object containing the data to be processed.</p></li>
<li><p><strong>request</strong> – The request object specifying the data to be processed.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>AssertionError</strong> – If the key in the request is not an ArrayKey or GraphKey.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">process</span><span class="p">(</span><span class="n">batch</span><span class="p">,</span> <span class="n">request</span><span class="p">)</span>
</pre></div>
</div>
<p class="rubric">Notes</p>
<p>This method applies the transformation to the data in the batch and restores the original ROIs.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="dacapo.gp.RejectIfEmpty">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">dacapo.gp.</span></span><span class="sig-name descname"><span class="pre">RejectIfEmpty</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">gt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">background</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dacapo.gp.RejectIfEmpty" title="Link to this definition"></a></dt>
<dd><p>Reject batches based on the masked-in vs. masked-out ratio.
.. attribute:: gt</p>
<blockquote>
<div><p>The gt array to use</p>
<dl class="field-list simple">
<dt class="field-odd">type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">ArrayKey</span></code>, optional</p>
</dd>
</dl>
</div></blockquote>
<dl class="py attribute">
<dt class="sig sig-object py" id="dacapo.gp.RejectIfEmpty.p">
<span class="sig-name descname"><span class="pre">p</span></span><a class="headerlink" href="#dacapo.gp.RejectIfEmpty.p" title="Link to this definition"></a></dt>
<dd><p>The probability that we reject until gt is nonempty</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">float</span></code>, optional</p>
</dd>
</dl>
</dd></dl>

<dl class="simple">
<dt>Method:</dt><dd><p>setup: Set up the provider.
provide: Provide a batch.</p>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="dacapo.gp.RejectIfEmpty.gt">
<span class="sig-name descname"><span class="pre">gt</span></span><a class="headerlink" href="#dacapo.gp.RejectIfEmpty.gt" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id17">
<span class="sig-name descname"><span class="pre">p</span></span><a class="headerlink" href="#id17" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="dacapo.gp.RejectIfEmpty.background">
<span class="sig-name descname"><span class="pre">background</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0</span></em><a class="headerlink" href="#dacapo.gp.RejectIfEmpty.background" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dacapo.gp.RejectIfEmpty.setup">
<span class="sig-name descname"><span class="pre">setup</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dacapo.gp.RejectIfEmpty.setup" title="Link to this definition"></a></dt>
<dd><p>Set up the provider.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>AssertionError</strong> – If only 1 upstream provider is supported.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">setup</span><span class="p">()</span>
<span class="go">setup()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dacapo.gp.RejectIfEmpty.provide">
<span class="sig-name descname"><span class="pre">provide</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dacapo.gp.RejectIfEmpty.provide" title="Link to this definition"></a></dt>
<dd><p>Provides a batch of data, rejecting empty ground truth (gt) if requested.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>request</strong> – The request object containing the necessary information.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The batch of data.</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>AssertionError</strong> – If the requested gt is not present in the request.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">provide</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="go">provide(request)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="dacapo.gp.CopyMask">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">dacapo.gp.</span></span><span class="sig-name descname"><span class="pre">CopyMask</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">array_key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">gunpowder.ArrayKey</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">copy_key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">gunpowder.ArrayKey</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">drop_channels</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dacapo.gp.CopyMask" title="Link to this definition"></a></dt>
<dd><p>A class to copy a mask into a new key with the option to drop channels via max collapse.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="dacapo.gp.CopyMask.array_key">
<span class="sig-name descname"><span class="pre">array_key</span></span><a class="headerlink" href="#dacapo.gp.CopyMask.array_key" title="Link to this definition"></a></dt>
<dd><p>Original key of the array from where the mask will be copied.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>gp.ArrayKey</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="dacapo.gp.CopyMask.copy_key">
<span class="sig-name descname"><span class="pre">copy_key</span></span><a class="headerlink" href="#dacapo.gp.CopyMask.copy_key" title="Link to this definition"></a></dt>
<dd><p>New key where the copied mask will reside.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>gp.ArrayKey</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="dacapo.gp.CopyMask.drop_channels">
<span class="sig-name descname"><span class="pre">drop_channels</span></span><a class="headerlink" href="#dacapo.gp.CopyMask.drop_channels" title="Link to this definition"></a></dt>
<dd><p>If True, channels will be dropped via a max collapse.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dacapo.gp.CopyMask.setup">
<span class="sig-name descname"><span class="pre">setup</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dacapo.gp.CopyMask.setup" title="Link to this definition"></a></dt>
<dd><p>Sets up the filter by enabling autoskip and providing the copied key.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dacapo.gp.CopyMask.prepare">
<span class="sig-name descname"><span class="pre">prepare</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dacapo.gp.CopyMask.prepare" title="Link to this definition"></a></dt>
<dd><p>Prepares the filter by copying the request of copy_key into a dependency.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dacapo.gp.CopyMask.process">
<span class="sig-name descname"><span class="pre">process</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dacapo.gp.CopyMask.process" title="Link to this definition"></a></dt>
<dd><p>Processes the batch by copying the mask from the array_key to the copy_key.</p>
</dd></dl>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This class is a subclass of gunpowder.BatchFilter and is used to
copy a mask into a new key with the option to drop channels via max collapse.</p>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="id18">
<span class="sig-name descname"><span class="pre">array_key</span></span><a class="headerlink" href="#id18" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id19">
<span class="sig-name descname"><span class="pre">copy_key</span></span><a class="headerlink" href="#id19" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id20">
<span class="sig-name descname"><span class="pre">drop_channels</span></span><a class="headerlink" href="#id20" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id21">
<span class="sig-name descname"><span class="pre">setup</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#id21" title="Link to this definition"></a></dt>
<dd><p>Sets up the filter by enabling autoskip and providing the copied key.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>RuntimeError</strong> – If the key is already provided.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">copy_mask</span><span class="o">.</span><span class="n">setup</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id22">
<span class="sig-name descname"><span class="pre">prepare</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#id22" title="Link to this definition"></a></dt>
<dd><p>Prepares the filter by copying the request of copy_key into a dependency.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>request</strong> – The request to prepare.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The prepared dependencies.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>deps</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>NotImplementedError</strong> – If the copy_key is not provided.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">request</span> <span class="o">=</span> <span class="n">gp</span><span class="o">.</span><span class="n">BatchRequest</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">request</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">copy_key</span><span class="p">]</span> <span class="o">=</span> <span class="n">gp</span><span class="o">.</span><span class="n">ArraySpec</span><span class="p">(</span><span class="n">roi</span><span class="o">=</span><span class="n">gp</span><span class="o">.</span><span class="n">Roi</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">copy_mask</span><span class="o">.</span><span class="n">prepare</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id23">
<span class="sig-name descname"><span class="pre">process</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">batch</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">request</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#id23" title="Link to this definition"></a></dt>
<dd><p>Processes the batch by copying the mask from the array_key to the copy_key.</p>
<p>If “drop_channels” attribute is True, it performs max collapse.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>batch</strong> – The batch to process.</p></li>
<li><p><strong>request</strong> – The request for processing.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The processed outputs.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>outputs</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>KeyError</strong> – If the requested key is not in the request.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">request</span> <span class="o">=</span> <span class="n">gp</span><span class="o">.</span><span class="n">BatchRequest</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">request</span><span class="p">[</span><span class="n">gp</span><span class="o">.</span><span class="n">ArrayKey</span><span class="p">(</span><span class="s2">&quot;ARRAY&quot;</span><span class="p">)]</span> <span class="o">=</span> <span class="n">gp</span><span class="o">.</span><span class="n">ArraySpec</span><span class="p">(</span><span class="n">roi</span><span class="o">=</span><span class="n">gp</span><span class="o">.</span><span class="n">Roi</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">copy_mask</span><span class="o">.</span><span class="n">process</span><span class="p">(</span><span class="n">batch</span><span class="p">,</span> <span class="n">request</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="dacapo.gp.GraphSource">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">dacapo.gp.</span></span><span class="sig-name descname"><span class="pre">GraphSource</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">gunpowder.GraphKey</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">graph</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">gunpowder.Graph</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dacapo.gp.GraphSource" title="Link to this definition"></a></dt>
<dd><p>A provider for serving graph data in gunpowder pipelines.</p>
<p>The Graph Source loads a single graph to serve to the pipeline based on
ROI requests it receives.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="dacapo.gp.GraphSource.key">
<span class="sig-name descname"><span class="pre">key</span></span><a class="headerlink" href="#dacapo.gp.GraphSource.key" title="Link to this definition"></a></dt>
<dd><p>The key of the graph to be served.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>gp.GraphKey</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="dacapo.gp.GraphSource.graph">
<span class="sig-name descname"><span class="pre">graph</span></span><a class="headerlink" href="#dacapo.gp.GraphSource.graph" title="Link to this definition"></a></dt>
<dd><p>The graph to be served.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>gp.Graph</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dacapo.gp.GraphSource.setup">
<span class="sig-name descname"><span class="pre">setup</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dacapo.gp.GraphSource.setup" title="Link to this definition"></a></dt>
<dd><p>Set up the provider.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dacapo.gp.GraphSource.provide">
<span class="sig-name descname"><span class="pre">provide</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dacapo.gp.GraphSource.provide" title="Link to this definition"></a></dt>
<dd><p>Provides the graph for the requested ROI.</p>
</dd></dl>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This class is a subclass of gunpowder.BatchProvider and is used to
serve graph data to gunpowder pipelines.</p>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="id24">
<span class="sig-name descname"><span class="pre">key</span></span><a class="headerlink" href="#id24" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id25">
<span class="sig-name descname"><span class="pre">graph</span></span><a class="headerlink" href="#id25" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id26">
<span class="sig-name descname"><span class="pre">setup</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#id26" title="Link to this definition"></a></dt>
<dd><p>Set up the provider. This function sets the provider to provide the
graph with the given key.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>RuntimeError</strong> – If the key is already provided.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">graph_source</span><span class="o">.</span><span class="n">setup</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id27">
<span class="sig-name descname"><span class="pre">provide</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#id27" title="Link to this definition"></a></dt>
<dd><p>Provides the graph for the requested ROI.</p>
<p>This method will be passively called by gunpowder to get a batch.
Depending on the request we provide a subgraph of our data, or nothing
at all.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>request</strong> (<em>gp.BatchRequest</em>) – BatchRequest with the same ROI for</p></li>
<li><p><strong>graph.</strong> (<em>each requested array and</em>)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The graph contained in a Batch.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>outputs (gp.Batch)</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>KeyError</strong> – If the requested key is not in the request.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">request</span> <span class="o">=</span> <span class="n">gp</span><span class="o">.</span><span class="n">BatchRequest</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">request</span><span class="p">[</span><span class="n">gp</span><span class="o">.</span><span class="n">GraphKey</span><span class="p">(</span><span class="s2">&quot;GRAPH&quot;</span><span class="p">)]</span> <span class="o">=</span> <span class="n">gp</span><span class="o">.</span><span class="n">GraphSpec</span><span class="p">(</span><span class="n">roi</span><span class="o">=</span><span class="n">gp</span><span class="o">.</span><span class="n">Roi</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">graph_source</span><span class="o">.</span><span class="n">provide</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="dacapo.gp.Product">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">dacapo.gp.</span></span><span class="sig-name descname"><span class="pre">Product</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x1_key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">gunpowder.ArrayKey</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x2_key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">gunpowder.ArrayKey</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">gunpowder.ArrayKey</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dacapo.gp.Product" title="Link to this definition"></a></dt>
<dd><p>A BatchFilter that multiplies two input arrays and produces an output array.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="dacapo.gp.Product.x1_key">
<span class="sig-name descname"><span class="pre">x1_key</span></span><a class="headerlink" href="#dacapo.gp.Product.x1_key" title="Link to this definition"></a></dt>
<dd><p>The key of the first input array.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">ArrayKey</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="dacapo.gp.Product.x2_key">
<span class="sig-name descname"><span class="pre">x2_key</span></span><a class="headerlink" href="#dacapo.gp.Product.x2_key" title="Link to this definition"></a></dt>
<dd><p>The key of the second input array.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">ArrayKey</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="dacapo.gp.Product.y_key">
<span class="sig-name descname"><span class="pre">y_key</span></span><a class="headerlink" href="#dacapo.gp.Product.y_key" title="Link to this definition"></a></dt>
<dd><p>The key of the output array.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">ArrayKey</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="simple">
<dt>Provides:</dt><dd><p>y_key (gp.ArrayKey): The key of the output array.</p>
</dd>
<dt>Method:</dt><dd><p>__init__: Initialize the Product BatchFilter.
setup: Set up the Product BatchFilter.
prepare: Prepare the Product BatchFilter.
process: Process the Product BatchFilter.</p>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="id28">
<span class="sig-name descname"><span class="pre">x1_key</span></span><a class="headerlink" href="#id28" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id29">
<span class="sig-name descname"><span class="pre">x2_key</span></span><a class="headerlink" href="#id29" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id30">
<span class="sig-name descname"><span class="pre">y_key</span></span><a class="headerlink" href="#id30" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dacapo.gp.Product.setup">
<span class="sig-name descname"><span class="pre">setup</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dacapo.gp.Product.setup" title="Link to this definition"></a></dt>
<dd><p>Set up the Product BatchFilter.</p>
<p>Enables autoskip and specifies the output array.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>AssertionError</strong> – If the input arrays are not provided.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">setup</span><span class="p">()</span>
<span class="go">setup()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dacapo.gp.Product.prepare">
<span class="sig-name descname"><span class="pre">prepare</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dacapo.gp.Product.prepare" title="Link to this definition"></a></dt>
<dd><p>Prepare the Product BatchFilter.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>request</strong> (<em>gp.BatchRequest</em>) – The batch request.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The dependencies.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>gp.BatchRequest</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>AssertionError</strong> – If the input arrays are not provided.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">prepare</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="go">prepare(request)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dacapo.gp.Product.process">
<span class="sig-name descname"><span class="pre">process</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">batch</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">request</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dacapo.gp.Product.process" title="Link to this definition"></a></dt>
<dd><p>Process the Product BatchFilter.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>batch</strong> (<em>gp.Batch</em>) – The input batch.</p></li>
<li><p><strong>request</strong> (<em>gp.BatchRequest</em>) – The batch request.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The output batch.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>gp.Batch</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>AssertionError</strong> – If the input arrays are not provided.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">process</span><span class="p">(</span><span class="n">batch</span><span class="p">,</span> <span class="n">request</span><span class="p">)</span>
<span class="go">process(batch, request)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../ext/index.html" class="btn btn-neutral float-left" title="dacapo.ext" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="copy/index.html" class="btn btn-neutral float-right" title="dacapo.gp.copy" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Caroline Malin-Mayor, Jeff Rhoades, Marwan Zouinkhi, William Patton, David Ackerman, Jan Funke.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>